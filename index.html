<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
            line-height: 1.4;
            padding: 16px;
            max-width: 400px;
            margin: 0 auto;
            min-height: 100vh;
        }

        .header {
            text-align: center;
            margin-bottom: 24px;
            font-size: 20px;
            font-weight: 600;
            color: var(--tg-theme-text-color, #000000);
        }

        .filter-section {
            margin-bottom: 24px;
        }

        .filter-title {
            font-size: 14px;
            margin-bottom: 12px;
            color: var(--tg-theme-hint-color, #999999);
        }

        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .filter-btn {
            flex: 1;
            min-width: 80px;
            padding: 12px 8px;
            border: 1px solid var(--tg-theme-button-color, #0088cc);
            background: transparent;
            color: var(--tg-theme-button-color, #0088cc);
            border-radius: 8px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .filter-btn.active {
            background: var(--tg-theme-button-color, #0088cc);
            color: var(--tg-theme-button-text-color, #ffffff);
        }

        .filter-btn:hover {
            opacity: 0.8;
        }

        .main-button {
            width: 100%;
            padding: 16px;
            background: var(--tg-theme-button-color, #0088cc);
            color: var(--tg-theme-button-text-color, #ffffff);
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 24px;
            transition: all 0.2s;
        }

        .main-button:hover {
            opacity: 0.9;
        }

        .report-stats {
            background: var(--tg-theme-secondary-bg-color, #f1f1f1);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 24px;
            display: none;
        }

        .report-stats.show {
            display: block;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .stat-item:last-child {
            margin-bottom: 0;
        }

        .stat-value {
            font-weight: 600;
        }

        .districts {
            display: none;
        }

        .districts.show {
            display: block;
        }

        .district-card {
            background: var(--tg-theme-secondary-bg-color, #f8f9fa);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            border: 1px solid #e9ecef;
        }

        .district-header {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            font-weight: 600;
            font-size: 15px;
        }

        .district-stats {
            margin-bottom: 12px;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
            font-size: 13px;
        }

        .progress-bar {
            display: inline-block;
            margin-right: 8px;
        }

        .matches {
            color: #28a745;
            font-weight: 600;
        }

        .expand-btn {
            width: 100%;
            padding: 10px;
            background: transparent;
            border: 1px solid var(--tg-theme-button-color, #0088cc);
            color: var(--tg-theme-button-color, #0088cc);
            border-radius: 8px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .expand-btn:hover {
            background: var(--tg-theme-button-color, #0088cc);
            color: var(--tg-theme-button-text-color, #ffffff);
        }

        .details {
            display: none;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #dee2e6;
        }

        .details.show {
            display: block;
        }

        .match-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .match-participants {
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--tg-theme-link-color, #0088cc);
        }

        .match-details {
            color: var(--tg-theme-hint-color, #666666);
            margin-bottom: 4px;
        }

        .match-date {
            font-size: 12px;
            color: var(--tg-theme-hint-color, #999999);
        }

        .channel-item {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 8px;
            font-size: 13px;
            border-left: 3px solid var(--tg-theme-button-color, #0088cc);
        }

        .channel-name {
            font-weight: 600;
            color: var(--tg-theme-link-color, #0088cc);
            margin-bottom: 4px;
        }

        .channel-stats {
            color: var(--tg-theme-text-color, #000000);
            margin-bottom: 2px;
        }

        .channel-activity {
            font-size: 11px;
            color: var(--tg-theme-hint-color, #999999);
        }

        .channel-summary {
            text-align: center;
            margin-top: 8px;
            color: var(--tg-theme-hint-color, #999999);
        }

        .telegram-link {
            color: var(--tg-theme-link-color, #0088cc);
            text-decoration: none;
            font-weight: 500;
        }

        .action-buttons {
            position: fixed;
            bottom: 16px;
            left: 16px;
            right: 16px;
            max-width: 368px;
            margin: 0 auto;
            display: none;
            gap: 8px;
        }

        .action-buttons.show {
            display: flex;
        }

        .action-btn {
            flex: 1;
            padding: 12px 8px;
            background: var(--tg-theme-secondary-bg-color, #f1f1f1);
            border: 1px solid #dee2e6;
            border-radius: 8px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .action-btn:hover {
            background: #e9ecef;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 360px) {
            .filter-btn {
                font-size: 12px;
                padding: 10px 6px;
            }
            
            .action-btn {
                font-size: 11px;
                padding: 10px 6px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–ø—Ä–æ—Å–∞ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
    </div>

    <div class="filter-section">
        <div class="filter-title">–ü–µ—Ä–∏–æ–¥ –∞–Ω–∞–ª–∏–∑–∞:</div>
        <div class="filter-buttons">
            <button class="filter-btn active" data-period="day">üìÜ –ó–∞ –¥–µ–Ω—å</button>
            <button class="filter-btn" data-period="3days">üìÜ –ó–∞ 3 –¥–Ω—è</button>
            <button class="filter-btn" data-period="week">üìÜ –ó–∞ –Ω–µ–¥–µ–ª—é</button>
            <button class="filter-btn" data-period="month">üìÜ –ó–∞ –º–µ—Å—è—Ü</button>
        </div>
    </div>

    <button class="main-button" id="generateReport">
        üîç –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç
    </button>

    <div class="report-stats" id="reportStats">
        <div class="stat-item">
            <span>–ü—Ä–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –∫–∞–Ω–∞–ª–æ–≤:</span>
            <span class="stat-value">15</span>
        </div>
        <div class="stat-item">
            <span>–ù–∞–π–¥–µ–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π:</span>
            <span class="stat-value">132</span>
        </div>
        <div class="stat-item">
            <span>–ù–∞–π–¥–µ–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:</span>
            <span class="stat-value">6</span>
        </div>
        <button class="expand-btn" onclick="toggleChannelDetails()" style="margin-top: 12px;">
            üìã –î–µ—Ç–∞–ª–∏ –ø–æ –∫–∞–Ω–∞–ª–∞–º
        </button>
        <div class="details" id="channel-details">
            <div class="channel-item">
                <div class="channel-name">üì¢ @moscow_realty_pro</div>
                <div class="channel-stats">–û–±—ä—è–≤–ª–µ–Ω–∏–π: 23 | –°–æ–≤–ø–∞–¥–µ–Ω–∏–π: 2</div>
                <div class="channel-activity">–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥</div>
            </div>
            <div class="channel-item">
                <div class="channel-name">üì¢ @nedvizhimost_msk</div>
                <div class="channel-stats">–û–±—ä—è–≤–ª–µ–Ω–∏–π: 18 | –°–æ–≤–ø–∞–¥–µ–Ω–∏–π: 1</div>
                <div class="channel-activity">–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 4 —á–∞—Å–∞ –Ω–∞–∑–∞–¥</div>
            </div>
            <div class="channel-item">
                <div class="channel-name">üì¢ @rent_moscow_center</div>
                <div class="channel-stats">–û–±—ä—è–≤–ª–µ–Ω–∏–π: 15 | –°–æ–≤–ø–∞–¥–µ–Ω–∏–π: 2</div>
                <div class="channel-activity">–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 1 —á–∞—Å –Ω–∞–∑–∞–¥</div>
            </div>
            <div class="channel-item">
                <div class="channel-name">üì¢ @msk_apartments</div>
                <div class="channel-stats">–û–±—ä—è–≤–ª–µ–Ω–∏–π: 12 | –°–æ–≤–ø–∞–¥–µ–Ω–∏–π: 1</div>
                <div class="channel-activity">–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 3 —á–∞—Å–∞ –Ω–∞–∑–∞–¥</div>
            </div>
            <div class="channel-item">
                <div class="channel-name">üì¢ @realtor_moscow_chat</div>
                <div class="channel-stats">–û–±—ä—è–≤–ª–µ–Ω–∏–π: 11 | –°–æ–≤–ø–∞–¥–µ–Ω–∏–π: 0</div>
                <div class="channel-activity">–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 6 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥</div>
            </div>
            <div class="channel-summary">
                <small>+ –µ—â–µ 10 –∫–∞–Ω–∞–ª–æ–≤ —Å –º–µ–Ω—å—à–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é</small>
            </div>
        </div>
    </div>

    <div class="districts" id="districts">
        <div class="district-card">
            <div class="district-header">
                üìç –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ê–û
            </div>
            <div class="district-stats">
                <div class="stat-row">
                    <span>–°–ø—Ä–æ—Å: <span class="progress-bar">‚ñì‚ñì‚ñì‚ñì‚ñì</span> (7)</span>
                </div>
                <div class="stat-row">
                    <span>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: <span class="progress-bar">‚ñì‚ñì‚ñì</span> (4)</span>
                </div>
                <div class="stat-row">
                    <span>–°–æ–≤–ø–∞–¥–µ–Ω–∏–π: <span class="matches">‚úÖ 3</span></span>
                    <span>40‚Äì55 –º¬≤, 8‚Äì12 –º–ª–Ω</span>
                </div>
            </div>
            <button class="expand-btn" onclick="toggleDetails('central')">
                üìã –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –¥–µ—Ç–∞–ª–∏
            </button>
            <div class="details" id="central-details">
                <div class="match-item">
                    <div class="match-participants">üë§ @buyer_msk1 ‚ÜîÔ∏è @owner_center</div>
                    <div class="match-details">45 –º¬≤, 9.5 –º–ª–Ω, –º. –¢–≤–µ—Ä—Å–∫–∞—è</div>
                    <div class="match-date">üìÜ 22.07 üì¢ @moscow_realty_pro <a href="#" class="telegram-link">üîó –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram</a></div>
                </div>
                <div class="match-item">
                    <div class="match-participants">üë§ @buyer_corp ‚ÜîÔ∏è @owner_arbat</div>
                    <div class="match-details">52 –º¬≤, 11.2 –º–ª–Ω, –º. –ê—Ä–±–∞—Ç—Å–∫–∞—è</div>
                    <div class="match-date">üìÜ 23.07 üì¢ @rent_moscow_center <a href="#" class="telegram-link">üîó –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram</a></div>
                </div>
                <div class="match-item">
                    <div class="match-participants">üë§ @buyer_lux ‚ÜîÔ∏è @owner_patriki</div>
                    <div class="match-details">48 –º¬≤, 10.8 –º–ª–Ω, –ü–∞—Ç—Ä–∏–∞—Ä—à–∏–µ –ø—Ä—É–¥—ã</div>
                    <div class="match-date">üìÜ 24.07 üì¢ @moscow_realty_pro <a href="#" class="telegram-link">üîó –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram</a></div>
                </div>
            </div>
        </div>

        <div class="district-card">
            <div class="district-header">
                üìç –°–í–ê–û
            </div>
            <div class="district-stats">
                <div class="stat-row">
                    <span>–°–ø—Ä–æ—Å: <span class="progress-bar">‚ñì‚ñì‚ñì</span> (4)</span>
                </div>
                <div class="stat-row">
                    <span>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: <span class="progress-bar">‚ñì‚ñì‚ñì‚ñì</span> (5)</span>
                </div>
                <div class="stat-row">
                    <span>–°–æ–≤–ø–∞–¥–µ–Ω–∏–π: <span class="matches">‚úÖ 2</span></span>
                    <span>50‚Äì65 –º¬≤, 7‚Äì9 –º–ª–Ω</span>
                </div>
            </div>
            <button class="expand-btn" onclick="toggleDetails('svao')">
                üìã –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –¥–µ—Ç–∞–ª–∏
            </button>
            <div class="details" id="svao-details">
                <div class="match-item">
                    <div class="match-participants">üë§ @buyer_family ‚ÜîÔ∏è @owner_altuf</div>
                    <div class="match-details">58 –º¬≤, 7.8 –º–ª–Ω, –º. –ê–ª—Ç—É—Ñ—å–µ–≤–æ</div>
                    <div class="match-date">üìÜ 21.07 üì¢ @nedvizhimost_msk <a href="#" class="telegram-link">üîó –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram</a></div>
                </div>
                <div class="match-item">
                    <div class="match-participants">üë§ @buyer_young ‚ÜîÔ∏è @owner_med</div>
                    <div class="match-details">62 –º¬≤, 8.5 –º–ª–Ω, –º. –ú–µ–¥–≤–µ–¥–∫–æ–≤–æ</div>
                    <div class="match-date">üìÜ 22.07 üì¢ @rent_moscow_center <a href="#" class="telegram-link">üîó –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram</a></div>
                </div>
            </div>
        </div>

        <div class="district-card">
            <div class="district-header">
                üìç –Æ–ó–ê–û
            </div>
            <div class="district-stats">
                <div class="stat-row">
                    <span>–°–ø—Ä–æ—Å: <span class="progress-bar">‚ñì‚ñì‚ñì‚ñì</span> (5)</span>
                </div>
                <div class="stat-row">
                    <span>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: <span class="progress-bar">‚ñì‚ñì</span> (3)</span>
                </div>
                <div class="stat-row">
                    <span>–°–æ–≤–ø–∞–¥–µ–Ω–∏–π: <span class="matches">‚úÖ 1</span></span>
                    <span>70‚Äì85 –º¬≤, 12‚Äì15 –º–ª–Ω</span>
                </div>
            </div>
            <button class="expand-btn" onclick="toggleDetails('uzao')">
                üìã –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –¥–µ—Ç–∞–ª–∏
            </button>
            <div class="details" id="uzao-details">
                <div class="match-item">
                    <div class="match-participants">üë§ @buyer_prof ‚ÜîÔ∏è @owner_konkovo</div>
                    <div class="match-details">78 –º¬≤, 13.5 –º–ª–Ω, –º. –ö–æ–Ω—å–∫–æ–≤–æ</div>
                    <div class="match-date">üìÜ 20.07 üì¢ @msk_apartments <a href="#" class="telegram-link">üîó –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram</a></div>
                </div>
            </div>
        </div>

        <div class="district-card">
            <div class="district-header">
                üìç –°–ó–ê–û
            </div>
            <div class="district-stats">
                <div class="stat-row">
                    <span>–°–ø—Ä–æ—Å: <span class="progress-bar">‚ñì‚ñì</span> (3)</span>
                </div>
                <div class="stat-row">
                    <span>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: <span class="progress-bar">‚ñì‚ñì‚ñì</span> (4)</span>
                </div>
                <div class="stat-row">
                    <span>–°–æ–≤–ø–∞–¥–µ–Ω–∏–π: <span class="matches">‚úÖ 0</span></span>
                    <span>‚Äî</span>
                </div>
            </div>
        </div>
    </div>

    <div class="action-buttons" id="actionButtons">
        <button class="action-btn">‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å PDF</button>
        <button class="action-btn">üîî –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</button>
    </div>

    <script>
        // –§–∏–ª—å—Ç—Ä –ø–æ –ø–µ—Ä–∏–æ–¥—É
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
        document.getElementById('generateReport').addEventListener('click', function() {
            this.textContent = '‚è≥ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞...';
            this.disabled = true;
            
            setTimeout(() => {
                document.getElementById('reportStats').classList.add('show');
                document.getElementById('districts').classList.add('show');
                document.getElementById('actionButtons').classList.add('show');
                
                this.textContent = 'üîç –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç';
                this.disabled = false;
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É –¥–ª—è –∫–Ω–æ–ø–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π
                document.body.style.paddingBottom = '80px';
            }, 2000);
        });

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π —Ä–∞–π–æ–Ω–æ–≤
        function toggleDetails(districtId) {
            const details = document.getElementById(districtId + '-details');
            const btn = details.previousElementSibling;
            
            if (details.classList.contains('show')) {
                details.classList.remove('show');
                btn.textContent = 'üìã –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –¥–µ—Ç–∞–ª–∏';
            } else {
                details.classList.add('show');
                btn.textContent = 'üìã –°–≤–µ—Ä–Ω—É—Ç—å –¥–µ—Ç–∞–ª–∏';
            }
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –∫–∞–Ω–∞–ª–æ–≤
        function toggleChannelDetails() {
            const details = document.getElementById('channel-details');
            const btn = details.previousElementSibling;
            
            if (details.classList.contains('show')) {
                details.classList.remove('show');
                btn.textContent = 'üìã –î–µ—Ç–∞–ª–∏ –ø–æ –∫–∞–Ω–∞–ª–∞–º';
            } else {
                details.classList.add('show');
                btn.textContent = 'üìã –°–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–∞–Ω–∞–ª–æ–≤';
            }
        }

        // –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
        document.querySelectorAll('.action-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const action = this.textContent.trim();
                this.style.background = '#28a745';
                this.style.color = 'white';
                this.style.border = 'none';
                
                setTimeout(() => {
                    this.style.background = '';
                    this.style.color = '';
                    this.style.border = '';
                }, 1000);
                
                // –ò–º–∏—Ç–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏–π
                if (action.includes('PDF')) {
                    console.log('–°–∫–∞—á–∏–≤–∞–Ω–∏–µ PDF –æ—Ç—á–µ—Ç–∞...');
                } else if (action.includes('—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è')) {
                    console.log('–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è...');
                }
            });
        });

        // Telegram WebApp –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞)
        if (window.Telegram && window.Telegram.WebApp) {
            window.Telegram.WebApp.ready();
            window.Telegram.WebApp.expand();
        }
    </script>
</body>
</html>
